var Sharify=function(){function t(t){this.defaults={render:".share",sites:["weibo","qzone","qq","wechat","douban","linkedin","twitter","facebook","google","diandian"]},this.siteInfo={url:window.location.href,siteOrigin:window.location.origin,source:document.getElementsByTagName("title")[0].innerText||document.title,title:document.getElementsByTagName("title")[0].innerText||document.title,image:this.getImage(),description:this.getMeta("description"),summary:""},this.options=this.extend({},this.defaults,t),this.element=this.query(this.options.render),this._shareUrls={weibo:"http://service.weibo.com/share/share.php?url="+this.siteInfo.url+"&title="+this.siteInfo.title+"&pic="+this.siteInfo.image,wechat:"javascript:;",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+this.siteInfo.url+"&title="+this.siteInfo.title+"&desc="+this.siteInfo.description+"&summary="+this.siteInfo.summary+"&site="+this.siteInfo.source,qq:"http://connect.qq.com/widget/shareqq/index.html?url="+this.siteInfo.url+"&title="+this.siteInfo.title+"&source="+this.siteInfo.source+"&desc="+this.siteInfo.description+"&pics="+this.siteInfo.image+"&site="+this.siteInfo.title,douban:"http://shuo.douban.com/!service/share?href="+this.siteInfo.url+"&name="+this.siteInfo.title+"&text="+this.siteInfo.description+"&image="+this.siteInfo.image+"&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo="+this.siteInfo.url+"&ti="+this.siteInfo.title+"&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title="+this.siteInfo.title+"&url="+this.siteInfo.url+"&summary="+this.siteInfo.summary+"&source="+this.siteInfo.source+"&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u="+this.siteInfo.url,twitter:"https://twitter.com/intent/tweet?text="+this.siteInfo.title+"&url="+this.siteInfo.url+"&via="+this.siteInfo.siteOrigin,google:"https://plus.google.com/share?url="+this.siteInfo.url},this.initialize()}return t.prototype.initialize=function(){this.renderIcons()},t.prototype.extend=function(){var t,e,i=arguments.length;for(t=i-1;t>0;t--){if("object"!=typeof arguments[t])throw Error("The parameter of the method extend() must be an object.");for(e in arguments[t])arguments[t-1][e]=arguments[t][e]}return arguments[0]},t.prototype.renderIcons=function(){for(var t=this.options.sites,e=0,i=t.length,s=document.createDocumentFragment(),n=this._shareUrls;i>e;e++){var o=void 0,r=t[e],a=r.toLowerCase();o=document.createElement("a"),o.setAttribute("class","share-icon icon-"+a),o.setAttribute("title",r),o.setAttribute("target","_blank"),o.setAttribute("href",n[a]),s.appendChild(o)}this.element.appendChild(s)},t.prototype.getMeta=function(t){for(var e,i=document.getElementsByTagName("meta"),s=Array.prototype.slice.call(i),n=0,o=s.length;o>n;n++)(s[n].getAttribute.name=t)&&(e=s[n].content);return e},t.prototype.getImage=function(){var t=document.getElementsByTagName("body")[0],e=t.getElementsByTagName("img")[0],i=e.src||e.getAttribute("src");return i||""},t.prototype.getSites=function(t){},t.prototype.query=function(t){return document.querySelector(t)},t.prototype.data=function(){var t=this.element;return t.dataset},t}();