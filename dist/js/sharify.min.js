var Sharify=function(){function t(t){this.defaults={render:".share",sites:["weibo","qzone","qq","wechat","douban","linkedin","twitter","facebook","google","diandian"]},this.siteInfo={url:window.location.href,siteOrigin:window.location.origin,source:document.getElementsByTagName("title")[0].innerText||document.title,title:document.getElementsByTagName("title")[0].innerText||document.title,description:this.getMeta("description"),summary:this.getMeta("description"),image:this.getImage()},this.options=this.extend({},this.siteInfo,this.defaults,t),this.element=this.query(this.options.render),this._shareUrls={weibo:"http://service.weibo.com/share/share.php?url="+this.options.url+"&title="+this.options.title+"&pic="+this.options.image,wechat:"javascript:;",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+this.options.url+"&title="+this.options.title+"&desc="+this.options.description+"&summary="+this.options.summary+"&site="+this.options.source,qq:"http://connect.qq.com/widget/shareqq/index.html?url="+this.options.url+"&title="+this.options.title+"&source="+this.options.source+"&desc="+this.options.description+"&pics="+this.options.image+"&site="+this.options.title,douban:"http://shuo.douban.com/!service/share?href="+this.options.url+"&name="+this.options.title+"&text="+this.options.description+"&image="+this.options.image+"&starid=0&aid=0&style=11",diandian:"http://www.diandian.com/share?lo="+this.options.url+"&ti="+this.options.title+"&type=link",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title="+this.options.title+"&url="+this.options.url+"&summary="+this.options.summary+"&source="+this.options.source+"&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u="+this.options.url,twitter:"https://twitter.com/intent/tweet?text="+this.options.title+"&url="+this.options.url+"&via="+this.options.siteOrigin,google:"https://plus.google.com/share?url="+this.options.url},this.initialize()}return t.prototype.initialize=function(){this.renderIcons()},t.prototype.extend=function(){var t,e,i=arguments.length;for(t=i-1;t>0;t--){if("object"!=typeof arguments[t])throw Error("The parameter of the method extend() must be an object.");for(e in arguments[t])arguments[t-1][e]=arguments[t][e]}return arguments[0]},t.prototype.renderIcons=function(){for(var t,e=this.options.sites,i=0,o=e.length,s=document.createDocumentFragment(),n=this._shareUrls;o>i;i++){var r=void 0,a=e[i],h=a.toLowerCase();if(!(h in n))throw new Error("Temporarily not supported "+a+" share.");r=document.createElement("a"),r.setAttribute("class","share-icon icon-"+h),r.setAttribute("title",a),r.setAttribute("target","_blank"),r.setAttribute("href",n[h]),s.appendChild(r)}this.element.appendChild(s),t=this.query(".icon-wechat"),this.renderWeChat(t)},t.prototype.renderWeChat=function(t){var e,i,o="http://qr.topscan.com/api.php?text="+this.siteInfo.url;e=document.createElement("img"),e.setAttribute("src",o),e.setAttribute("alt","WeChar Qr-Code"),i=document.createElement("div"),i.setAttribute("class","qr-code"),i.appendChild(e),t.appendChild(i)},t.prototype.getMeta=function(t){for(var e,i=document.getElementsByTagName("meta"),o=Array.prototype.slice.call(i),s=0,n=o.length;n>s;s++)(o[s].getAttribute.name=t)&&(e=o[s].content);return e},t.prototype.getImage=function(){var t=document.getElementsByTagName("body")[0],e=t.getElementsByTagName("img")[0],i=e.src||e.getAttribute("src");return i||""},t.prototype.getSites=function(t){},t.prototype.query=function(t){return document.querySelector(t)},t.prototype.data=function(){var t=this.element;return t.dataset},t}();